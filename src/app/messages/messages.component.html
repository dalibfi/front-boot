<!-- <div *ngFor="let msg of messages">
    <b>{{ msg.sender }}:</b> {{ msg.text }}
</div>

<input [(ngModel)]="userInput" placeholder="Message..." />
<button (click)="send()">Envoyer</button> -->

<div class="chat-container">
    <!-- En-tête du chat -->
    <div class="chat-header">
        <div class="bot-avatar">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path d="M12 8V4m0 0L8 8m4-4l4 4" />
                <rect x="3" y="11" width="18" height="10" rx="2" />
                <circle cx="8" cy="16" r="1" />
                <circle cx="16" cy="16" r="1" />
            </svg>
        </div>
        <div class="bot-info">
            <h2>Assistant IA</h2>
            <span class="status">En ligne</span>
        </div>
    </div>

    <!-- Zone des messages -->
    <div class="messages-container">
        <div *ngFor="let msg of messages"
            [class]="msg.sender === 'USER' ? 'message user-message' : 'message bot-message'">
            <div class="message-avatar" *ngIf="msg.sender !== 'USER'">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <rect x="3" y="11" width="18" height="10" rx="2" />
                    <circle cx="8" cy="16" r="1" />
                    <circle cx="16" cy="16" r="1" />
                </svg>
            </div>
            <div class="message-content">
                <div class="message-bubble">
                    {{ msg.text }}
                </div>
                <span class="message-time">{{ msg.time || 'À l\'instant' }}</span>
            </div>
            <div class="message-avatar" *ngIf="msg.sender === 'USER'">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <circle cx="12" cy="8" r="4" />
                    <path d="M4 20c0-4 4-6 8-6s8 2 8 6" />
                </svg>
            </div>
        </div>
    </div>

    <!-- Zone de saisie -->
    <div class="input-container">
        <button class="attach-button" type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path
                    d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48" />
            </svg>
        </button>

        <input [(ngModel)]="userInput" placeholder="Écrivez votre message..." class="message-input"
            (keyup.enter)="send()" [disabled]="isSending" />

        <button class="send-button" type="button" (click)="send()" [disabled]="isSending">
            <ng-container *ngIf="!isSending; else sending">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
            </ng-container>
            <ng-template #sending>
                Sending...
            </ng-template>
        </button>
    </div>

</div>